<template>
  <div class="relative overflow-hidden h-screen">
    <div class="absolute inset-0">
      <!-- Parallax layers -->
      <div ref="parallaxLayer1" class="parallax-layer parallax-layer-1"></div>
      <div ref="parallaxLayer2" class="parallax-layer parallax-layer-2"></div>
      <div ref="parallaxLayer3" class="parallax-layer parallax-layer-3"></div>
    </div>
  </div>
</template>

<script setup>
import { ref, onMounted, onBeforeUnmount } from 'vue'

const parallaxLayer1 = ref(null)
const parallaxLayer2 = ref(null)
const parallaxLayer3 = ref(null)

const handleScroll = () => {
  const scrollY = window.scrollY

  if (parallaxLayer1.value) {
    parallaxLayer1.value.style.transform = `translateY(-${scrollY * 0.4}px)`
  }
  if (parallaxLayer2.value) {
    parallaxLayer2.value.style.transform = `translateY(-${scrollY * 0.8}px)`
  }
  if (parallaxLayer3.value) {
    parallaxLayer3.value.style.transform = `translateY(-${scrollY * 0.12}px)`
  }
}

onMounted(() => {
  window.addEventListener('scroll', handleScroll)
})

onBeforeUnmount(() => {
  window.removeEventListener('scroll', handleScroll)
})
</script>

<style scoped>
/* Tailwind classes or your own styles */
.parallax-layer {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100vh;
  background-position: center;
  background-size: cover;
}

.parallax-layer-1 {
  background-image: url('./assets/images/mj-orange.png');
  z-index: 1;
}

.parallax-layer-2 {
  background-image: url('./assets/images/mj-white.png');
  z-index: 2;
}

.parallax-layer-3 {
  background-image: url('./assets/images/mj.png');
  z-index: 3;
}
</style>
